<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="spring," />










<meta name="description" content="Spring框架 Spring框架的学习路线 1. Spring第一天：Spring的IOC容器之XML的方式，Spring框架与Web项目整合 2. Spring第二天：Spring的IOC容器之注解的方式，Spring的AOP技术 3. Spring第三天：Spring的事务管理、Spring框架的JDBC模板 4. Spring第四天：SSH三大框架的整合  今天内容概述 1. Spring">
<meta name="keywords" content="spring">
<meta property="og:type" content="article">
<meta property="og:title" content="spring系列一">
<meta property="og:url" content="http://danqingshui.github.io/2018/05/23/aXD466glQjV1SZwT/index.html">
<meta property="og:site_name" content="丹青水">
<meta property="og:description" content="Spring框架 Spring框架的学习路线 1. Spring第一天：Spring的IOC容器之XML的方式，Spring框架与Web项目整合 2. Spring第二天：Spring的IOC容器之注解的方式，Spring的AOP技术 3. Spring第三天：Spring的事务管理、Spring框架的JDBC模板 4. Spring第四天：SSH三大框架的整合  今天内容概述 1. Spring">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://danqingshui.github.io/2018/05/23/aXD466glQjV1SZwT/图片/01-IOC.bmp">
<meta property="og:updated_time" content="2018-05-23T15:17:06.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="spring系列一">
<meta name="twitter:description" content="Spring框架 Spring框架的学习路线 1. Spring第一天：Spring的IOC容器之XML的方式，Spring框架与Web项目整合 2. Spring第二天：Spring的IOC容器之注解的方式，Spring的AOP技术 3. Spring第三天：Spring的事务管理、Spring框架的JDBC模板 4. Spring第四天：SSH三大框架的整合  今天内容概述 1. Spring">
<meta name="twitter:image" content="http://danqingshui.github.io/2018/05/23/aXD466glQjV1SZwT/图片/01-IOC.bmp">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://danqingshui.github.io/2018/05/23/aXD466glQjV1SZwT/"/>





  <title>spring系列一 | 丹青水</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">丹青水</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">见字如面</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://danqingshui.github.io/2018/05/23/aXD466glQjV1SZwT/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="rocky.zhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="丹青水">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">spring系列一</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-23T23:16:26+08:00">
                2018-05-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/spring/" itemprop="url" rel="index">
                    <span itemprop="name">spring</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Spring框架"><a href="#Spring框架" class="headerlink" title="Spring框架"></a>Spring框架</h2><hr>
<p><strong>Spring框架的学习路线</strong></p>
<pre><code>1. Spring第一天：Spring的IOC容器之XML的方式，Spring框架与Web项目整合
2. Spring第二天：Spring的IOC容器之注解的方式，Spring的AOP技术
3. Spring第三天：Spring的事务管理、Spring框架的JDBC模板
4. Spring第四天：SSH三大框架的整合
</code></pre><hr>
<p><strong>今天内容概述</strong></p>
<pre><code>1. Spring框架的概述
2. SpringIOC的快速入门
3. IoC容器XML的方式
4. 在web项目中集成Spring
</code></pre><hr>
<h3 id="案例一：使用Spring的IOC技术完成客户的保存功能"><a href="#案例一：使用Spring的IOC技术完成客户的保存功能" class="headerlink" title="案例一：使用Spring的IOC技术完成客户的保存功能"></a>案例一：使用Spring的IOC技术完成客户的保存功能</h3><hr>
<p><strong>需求分析</strong></p>
<pre><code>1. 使用Spring的IOC技术完成客户的保存功能
</code></pre><hr>
<h3 id="技术分析之Spring框架的概述和入门"><a href="#技术分析之Spring框架的概述和入门" class="headerlink" title="技术分析之Spring框架的概述和入门"></a>技术分析之Spring框架的概述和入门</h3><hr>
<p><strong>技术分析之什么是Spring框架</strong></p>
<pre><code>1. Spring框架的概述
    * Spring是一个开源框架
    * Spring是于2003 年兴起的一个轻量级的Java开发框架，由Rod Johnson在其著作Expert One-On-One J2EE Development and Design中阐述的部分理念和原型衍生而来。
    * 它是为了解决企业应用开发的复杂性而创建的。框架的主要优势之一就是其分层架构，分层架构允许使用者选择使用哪一个组件，同时为 J2EE 应用程序开发提供集成的框架。
    * Spring使用基本的JavaBean来完成以前只可能由EJB完成的事情。然而，Spring的用途不仅限于服务器端的开发。从简单性、可测试性和松耦合的角度而言，任何Java应用都可以    从Spring中受益。
    * Spring的核心是控制反转（IoC）和面向切面（AOP）。简单来说，Spring是一个分层的JavaSE/EEfull-stack(一站式) 轻量级开源框架。

    * EE开发分成三层结构
        * WEB层        -- Spring MVC
        * 业务层    -- Bean管理:(IOC)
        * 持久层    -- Spring的JDBC模板.ORM模板用于整合其他的持久层框架
</code></pre><hr>
<p><strong>技术分析之Spring框架的特点</strong></p>
<pre><code>1. 为什么要学习Spring的框架
    * 方便解耦，简化开发
        * Spring就是一个大工厂，可以将所有对象创建和依赖关系维护，交给Spring管理
    * AOP编程的支持
        * Spring提供面向切面编程，可以方便的实现对程序进行权限拦截、运行监控等功能
    * 声明式事务的支持
        * 只需要通过配置就可以完成对事务的管理，而无需手动编程
    * 方便程序的测试
        * Spring对Junit4支持，可以通过注解方便的测试Spring程序
    * 方便集成各种优秀框架
        * Spring不排斥各种优秀的开源框架，其内部提供了对各种优秀框架（如：Struts2、Hibernate、MyBatis、Quartz等）的直接支持
    * 降低JavaEE API的使用难度
        * Spring 对JavaEE开发中非常难用的一些API（JDBC、JavaMail、远程调用等），都提供了封装，使这些API应用难度大大降低

2. Spring框架的版本
    * Spring3.x和Spring4.x的版本
</code></pre><hr>
<p><strong>技术分析之Spring框架的IOC核心功能快速入门</strong></p>
<pre><code>1. 什么是IOC的功能？
    * IoC        -- Inverse of Control，控制反转，将对象的创建权反转给Spring！！
    * 使用IOC可以解决的程序耦合性高的问题！！
</code></pre><p><img src="./图片/01-IOC.bmp" alt="">    </p>
<pre><code>2. 步骤一：下载Spring框架的开发包
    * 官网：http://spring.io/
    * 下载地址：http://repo.springsource.org/libs-release-local/org/springframework/spring解压:(Spring目录结构:)
        * docs        -- API和开发规范
        * libs        -- jar包和源码
        * schema    -- 约束

3. 步骤二：创建JavaWEB项目，引入Spring的开发包
    * 引入Spring框架IOC核心功能需要的具体的jar包
        * Spring框架的IOC的功能，那么根据Spring框架的体系结构图能看到，只需要引入如下的jar包
            * Beans
            * Core
            * Context
            * Expression Language

        * Spring框架也需要引入日志相关的jar包
            * 在spring-framework-3.0.2.RELEASE-dependencies/org.apache.commons/com.springsource.org.apache.commons.logging/1.1.1
                * com.springsource.org.apache.commons.logging-1.1.1.jar

            * 还需要引入log4j的jar包 spring-framework-3.0.2.RELEASE-dependencies\org.apache.log4j\com.springsource.org.apache.log4j\1.2.15
                * com.springsource.org.apache.log4j-1.2.15.jar

4. 步骤三：创建对应的包结构，编写Java的类，要注意：以后使用Spring框架做开发，都需要来编写接口与实现类！！
    * com.itcast.demo1
        * UserService            -- 接口
        * UserServiceImpl        -- 具体的实现类

5. 步骤四：想把UserServiceImpl实现类的创建交给Spring框架来管理，需要创建Spring框架的配置文件，完成配置
    * 在src目录下创建applicationContext.xml的配置文件，名称是可以任意的，但是一般都会使用默认名称！！

    * 引入spring的约束，需要先找到具体的约束头信息！！
        * spring-framework-3.2.0.RELEASE\docs\spring-framework-reference\html\xsd-config.html
        * 具体的约束如下：        
            &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
                xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
                xsi:schemaLocation=&quot;
                    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;
            &lt;/beans&gt;

    * 完成UserService的配置
        &lt;!-- Spring的快速入门 --&gt;
        &lt;bean id=&quot;userService&quot; class=&quot;com.itcast.demo1.UserServiceImpl&quot;/&gt;

6. 步骤五：编写测试程序，采用Spring框架的工厂方式来获取到UserService接口的具体实现类！！
    public void demo2(){
        // 使用Spring的工厂:
        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);
        // 通过工厂获得类:
        UserService userService = (UserService) applicationContext.getBean(&quot;userService&quot;);
        userService.sayHello();
    }
</code></pre><hr>
<p><strong>入门总结之Spring框架中的工厂（了解）</strong></p>
<pre><code>1. ApplicationContext接口
    * 使用ApplicationContext工厂的接口，使用该接口可以获取到具体的Bean对象
    * 该接口下有两个具体的实现类
        * ClassPathXmlApplicationContext            -- 加载类路径下的Spring配置文件
        * FileSystemXmlApplicationContext            -- 加载本地磁盘下的Spring配置文件

2. BeanFactory工厂（是Spring框架早期的创建Bean对象的工厂接口）
    * 使用BeanFactory接口也可以获取到Bean对象
        public void run(){
            BeanFactory factory = new XmlBeanFactory(new ClassPathResource(&quot;applicationContext.xml&quot;));
            UserService us = (UserService) factory.getBean(&quot;us&quot;);
            us.sayHello();
        }

    * BeanFactory和ApplicationContext的区别
        * BeanFactory                -- BeanFactory采取延迟加载，第一次getBean时才会初始化Bean
        * ApplicationContext        -- 在加载applicationContext.xml时候就会创建具体的Bean对象的实例，还提供了一些其他的功能
            * 事件传递
            * Bean自动装配
            * 各种不同应用层的Context实现
</code></pre><hr>
<p><strong>入门总结之配置Spring框架编写XML的提示</strong></p>
<pre><code>1. 步骤一：先复制， http://www.springframework.org/schema/beans/spring-beans.xsd    
2. 步骤二：搜索XML Catalog，点击Add按钮
3. 步骤三：先选择Location的schema的约束地址
    * E:\class\2016\JavaEE28\day35_Spring框架第一天\资料\spring-framework-4.2.4.RELEASE-schema\beans\spring-beans-4.2.xsd
4. 步骤四：注意：Key type要选择：Schema location
5. 步骤五：Key把http://www.springframework.org/schema/beans/spring-beans.xsd复制上
</code></pre><hr>
<h3 id="技术分析之Spring框架的Bean管理的配置文件方式"><a href="#技术分析之Spring框架的Bean管理的配置文件方式" class="headerlink" title="技术分析之Spring框架的Bean管理的配置文件方式"></a>技术分析之Spring框架的Bean管理的配置文件方式</h3><hr>
<p><strong>技术分析之Spring框架中<bean>标签的配置</bean></strong></p>
<pre><code>1. id属性和name属性的区别
    * id        -- Bean起个名字，在约束中采用ID的约束，唯一
        * 取值要求：必须以字母开始，可以使用字母、数字、连字符、下划线、句话、冒号    id:不能出现特殊字符

    * name        -- Bean起个名字，没有采用ID的约束（了解）
        * 取值要求：name:出现特殊字符.如果&lt;bean&gt;没有id的话 , name可以当做id使用
        * Spring框架在整合Struts1的框架的时候，Struts1的框架的访问路径是以/开头的，例如：/bookAction

2. class属性            -- Bean对象的全路径
3. scope属性            -- scope属性代表Bean的作用范围
    * singleton            -- 单例（默认值）
    * prototype            -- 多例，在Spring框架整合Struts2框架的时候，Action类也需要交给Spring做管理，配置把Action类配置成多例！！
    * request            -- 应用在Web项目中,每次HTTP请求都会创建一个新的Bean
    * session            -- 应用在Web项目中,同一个HTTP Session 共享一个Bean
    * globalsession        -- 应用在Web项目中,多服务器间的session

4. Bean对象的创建和销毁的两个属性配置（了解）
    * 说明：Spring初始化bean或销毁bean时，有时需要作一些处理工作，因此spring可以在创建和拆卸bean的时候调用bean的两个生命周期方法
    * init-method        -- 当bean被载入到容器的时候调用init-method属性指定的方法
    * destroy-method    -- 当bean从容器中删除的时候调用destroy-method属性指定的方法
        * 想查看destroy-method的效果，有如下条件
            * scope= singleton有效
            * web容器中会自动调用，但是main函数或测试用例需要手动调用（需要使用ClassPathXmlApplicationContext的close()方法）
</code></pre><hr>
<p><strong>技术分析之依赖注入（DI）</strong></p>
<pre><code>1. IOC和DI的概念
    * IOC        -- Inverse of Control，控制反转，将对象的创建权反转给Spring！！
    * DI        -- Dependency Injection，依赖注入，在Spring框架负责创建Bean对象时，动态的将依赖对象注入到Bean组件中！！

2.  DI（依赖注入）
    * 例如：如果UserServiceImpl的实现类中有一个属性，那么使用Spring框架的IOC功能时，可以通过依赖注入把该属性的值传入进来！！
    * 具体的配置如下
        &lt;bean id=&quot;us&quot; class=&quot;com.itheima.demo1.UserServiceImpl&quot;&gt;
            &lt;property name=&quot;uname&quot; value=&quot;小风&quot;/&gt;
        &lt;/bean&gt;
</code></pre><hr>
<p><strong>技术分析之Spring框架的属性注入</strong></p>
<pre><code>1. 对于类成员变量，常用的注入方式有两种
    * 构造函数注入
    * 属性setter方法注入

2. 在Spring框架中提供了前两种的属性注入的方式
    1. 构造方法的注入方式，两步
        * 编写Java的类，提供构造方法
            public class Car {
                private String name;
                private double money;
                public Car(String name, double money) {
                    this.name = name;
                    this.money = money;
                }
                @Override
                public String toString() {
                    return &quot;Car [name=&quot; + name + &quot;, money=&quot; + money + &quot;]&quot;;
                }
            }

        * 编写配置文件
            &lt;bean id=&quot;car&quot; class=&quot;com.itheima.demo4.Car&quot;&gt;
                &lt;constructor-arg name=&quot;name&quot; value=&quot;大奔&quot;/&gt;
                &lt;constructor-arg name=&quot;money&quot; value=&quot;100&quot;/&gt;
            &lt;/bean&gt;

    2. 属性的setter方法的注入方式
        * 编写Java的类，提供属性和对应的set方法即可
        * 编写配置文件

    3. 如果Java类的属性是另一个Java的类，那么需要怎么来注入值呢？
        * &lt;property name=&quot;name&quot; rel=&quot;具体的Bean的ID或者name的值&quot;/&gt;
        * 例如：
            &lt;bean id=&quot;person&quot; class=&quot;com.itheima.demo4.Person&quot;&gt;
                &lt;property name=&quot;pname&quot; value=&quot;美美&quot;/&gt;
                &lt;property name=&quot;car2&quot; ref=&quot;car2&quot;/&gt;
            &lt;/bean&gt;
</code></pre><hr>
<p><strong>技术分析之Spring的2.5版本中提供了一种:p名称空间的注入（了解）</strong></p>
<pre><code>1. 步骤一：需要先引入 p 名称空间
    * 在schema的名称空间中加入该行：xmlns:p=&quot;http://www.springframework.org/schema/p&quot;

2. 步骤二：使用p名称空间的语法
    * p:属性名 = &quot;&quot;
    * p:属性名-ref = &quot;&quot;

3. 步骤三：测试
    * &lt;bean id=&quot;person&quot; class=&quot;com.itheima.demo4.Person&quot; p:pname=&quot;老王&quot; p:car2-ref=&quot;car2&quot;/&gt;
</code></pre><hr>
<p><strong>技术分析之Spring的3.0提供了一种:SpEL注入方式（了解）</strong></p>
<pre><code>1. SpEL：Spring Expression Language是Spring的表达式语言，有一些自己的语法
2. 语法
    * #{SpEL}

3. 例如如下的代码
    &lt;!-- SpEL的方式 --&gt;
    &lt;bean id=&quot;person&quot; class=&quot;com.itheima.demo4.Person&quot;&gt;
        &lt;property name=&quot;pname&quot; value=&quot;#{&apos;小风&apos;}&quot;/&gt;
        &lt;property name=&quot;car2&quot; value=&quot;#{car2}&quot;/&gt;
    &lt;/bean&gt;

4. 还支持调用类中的属性或者方法
    * 定义类和方法，例如
        public class CarInfo {
            public String getCarname(){
                return &quot;奇瑞QQ&quot;;
            }
        }
</code></pre><hr>
<p><strong>技术分析之数组，集合(List,Set,Map)，Properties等的注入</strong></p>
<pre><code>1. 如果是数组或者List集合，注入配置文件的方式是一样的
    &lt;bean id=&quot;collectionBean&quot; class=&quot;com.itheima.demo5.CollectionBean&quot;&gt;
        &lt;property name=&quot;arrs&quot;&gt;
            &lt;list&gt;
                &lt;value&gt;美美&lt;/value&gt;
                &lt;value&gt;小风&lt;/value&gt;
            &lt;/list&gt;
        &lt;/property&gt;
    &lt;/bean&gt;

2. 如果是Set集合，注入的配置文件方式如下：
    &lt;property name=&quot;sets&quot;&gt;
        &lt;set&gt;
            &lt;value&gt;哈哈&lt;/value&gt;
            &lt;value&gt;呵呵&lt;/value&gt;
        &lt;/set&gt;
    &lt;/property&gt;

3. 如果是Map集合，注入的配置方式如下：
    &lt;property name=&quot;map&quot;&gt;
        &lt;map&gt;
            &lt;entry key=&quot;老王2&quot; value=&quot;38&quot;/&gt;
            &lt;entry key=&quot;凤姐&quot; value=&quot;38&quot;/&gt;
            &lt;entry key=&quot;如花&quot; value=&quot;29&quot;/&gt;
        &lt;/map&gt;
    &lt;/property&gt;

4. 如果是properties属性文件的方式，注入的配置如下：
    &lt;property name=&quot;pro&quot;&gt;
        &lt;props&gt;
            &lt;prop key=&quot;uname&quot;&gt;root&lt;/prop&gt;
            &lt;prop key=&quot;pass&quot;&gt;123&lt;/prop&gt;
        &lt;/props&gt;
    &lt;/property&gt;
</code></pre><hr>
<p><strong>技术分析之Spring框架的配置文件分开管理（了解）</strong></p>
<pre><code>1. 例如：在src的目录下又多创建了一个配置文件，现在是两个核心的配置文件，那么加载这两个配置文件的方式有两种！
    * 主配置文件中包含其他的配置文件:
        &lt;import resource=&quot;applicationContext2.xml&quot;/&gt;

    * 工厂创建的时候直接加载多个配置文件:
        ApplicationContext applicationContext = new ClassPathXmlApplicationContext(
                    &quot;applicationContext.xml&quot;,&quot;applicationContext2.xml&quot;);
</code></pre><hr>
<h3 id="Spring框架整合WEB"><a href="#Spring框架整合WEB" class="headerlink" title="Spring框架整合WEB"></a>Spring框架整合WEB</h3><hr>
<p><strong>Spring框架整合WEB（不是最终的方案）</strong></p>
<pre><code>1. 创建JavaWEB项目，引入Spring的开发包。编写具体的类和方法。
    * 环境搭建好后，启动服务器来测试项目，发送每访问一次都会加载一次配置文件，这样效率会非常非常慢！！

2. 解决上面的问题
    * 将工厂创建好了以后放入到ServletContext域中.使用工厂的时候,从ServletContext中获得.
        * ServletContextListener:用来监听ServletContext对象的创建和销毁的监听器.
        * 当ServletContext对象创建的时候:创建工厂 , 将工厂存入到ServletContext

3. Spring整合Web项目
    * 引入spring-web-4.2.4.RELEASE.jar包
    * 配置监听器
         &lt;!-- 配置Spring的核心监听器: --&gt;
         &lt;listener&gt;
             &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
         &lt;/listener&gt;
         &lt;context-param&gt;
             &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
             &lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt;
         &lt;/context-param&gt;

4. 修改servlet的代码
    * 从ServletContext中获得工厂
    * 具体代码如下
        ServletContext servletContext = ServletActionContext.getServletContext();
        // 需要使用WEB的工厂的方式
        WebApplicationContext context = WebApplicationContextUtils.getWebApplicationContext(servletContext);
        CustomerService cs = (CustomerService) context.getBean(&quot;customerService&quot;);
        cs.save();    
</code></pre><hr>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/spring/" rel="tag"># spring</a>
          
        </div>
      

      
      
      

      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">rocky.zhang</p>
              <p class="site-description motion-element" itemprop="description">一个逗逼世界</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/danqingshui" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring框架"><span class="nav-number">1.</span> <span class="nav-text">Spring框架</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#案例一：使用Spring的IOC技术完成客户的保存功能"><span class="nav-number">1.1.</span> <span class="nav-text">案例一：使用Spring的IOC技术完成客户的保存功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#技术分析之Spring框架的概述和入门"><span class="nav-number">1.2.</span> <span class="nav-text">技术分析之Spring框架的概述和入门</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#技术分析之Spring框架的Bean管理的配置文件方式"><span class="nav-number">1.3.</span> <span class="nav-text">技术分析之Spring框架的Bean管理的配置文件方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring框架整合WEB"><span class="nav-number">1.4.</span> <span class="nav-text">Spring框架整合WEB</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">rocky.zhang</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
